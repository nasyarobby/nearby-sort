!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(r||self).nearbySortMap=t()}(this,function(){function r(){return r=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},r.apply(this,arguments)}var t=function(r){return r*(Math.PI/180)};return function(n,e,o){var a=n.lat,i=n.long;void 0===o&&(o=!0);try{return Promise.resolve(new Promise(function(n,s){try{!function(r,t,n,e){if(isNaN(parseFloat(r))||isNaN(parseFloat(t))||!n)throw new Error("Invalid arguments");if("number"!=typeof r||"number"!=typeof t)throw new Error("lat and long should be numbers");if(!Array.isArray(n))throw new Error("Second argument should be an array");if("boolean"!=typeof e)throw new Error("Asc argument should be a boolean")}(a,i,e,o),n(e.map(function(n){return r({},n,{d:(e=a,o=i,s=n.lat,u=n.long,f=t(s-e),l=t(u-o),c=Math.sin(f/2)*Math.sin(f/2)+Math.cos(t(e))*Math.cos(t(s))*Math.sin(l/2)*Math.sin(l/2),2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*6371)});var e,o,s,u,f,l,c}).sort(function(r,t){return o?r.d-t.d:t.d-r.d}))}catch(r){s(r)}}))}catch(r){return Promise.reject(r)}}});
//# sourceMappingURL=sort.umd.js.map
